import { QueryTypes, Transaction } from "sequelize";
import { Sequelize } from "sequelize/types";
import { MigrationImpl } from "../utils/migrations/interfaces";

const MIGRATION: MigrationImpl = {
  description: 'Default description of migration',
  up: async (db: Sequelize, t: Transaction) => {
    await db.query(`
        CREATE TABLE teste_migration_2 (
            id int NOT NULL GENERATED BY DEFAULT AS IDENTITY,
            "desc" varchar NULL
        )`, {
      replacements: [],
      type: QueryTypes.UPDATE,
      transaction: t
    });
  },
  down: async (db: Sequelize, t: Transaction) => {
    await db.query(`
        DROP TABLE teste_migration_2`, {
      replacements: [],
      type: QueryTypes.UPDATE,
      transaction: t
    });
  }
}

export { MIGRATION };
